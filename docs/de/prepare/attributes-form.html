
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="de">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Attribute Form Configuration &#8212; QField Documentation 1.0 - M... Dokumentation</title>
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/style.css" />
    <link rel="stylesheet" type="text/css" href="../_static/qfield.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <script type="text/javascript" src="../_static/qfield.js"></script>
    <link rel="shortcut icon" href="../_static/qfield-logo-noborder.ico"/>
    <link rel="index" title="Stichwortverzeichnis" href="../genindex.html" />
    <link rel="search" title="Suche" href="../search.html" />
    <link rel="next" title="Custom SVG symbols" href="custom-svg.html" />
    <link rel="prev" title="Allow hiding legend nodes" href="allow-hiding-legend-nodes.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js "></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="https://qfield.org">
              <img src="../_static/qfield-logo.svg">
        </a>
        <span class="navbar-text navbar-title"><b><a href="../index.html">QField Documentation</a> </b></span>
        <span class="navbar-text navbar-version pull-left"><b>1.0</b></span>
      </div>

      <div class="collapse navbar-collapse nav-collapse">
        <ul class="nav navbar-nav">
          
          
            
              <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Attribute Form Configuration</a><ul>
<li><a class="reference internal" href="#suppress-attribute-form">Suppress Attribute Form</a></li>
<li><a class="reference internal" href="#field-widget">Feldwidget</a></li>
<li><a class="reference internal" href="#relation-widget">Relation Widget</a><ul>
<li><a class="reference internal" href="#attachment-photo-settings">Attachment (photo settings)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#value-relation">Value Relation</a></li>
<li><a class="reference internal" href="#drag-and-drop-designer-forms">Drag and Drop Designer Formulare</a></li>
<li><a class="reference internal" href="#conditional-visibility">Bedingte Sichtbarkeit</a></li>
<li><a class="reference internal" href="#constraints">Bedingungen</a><ul>
<li><a class="reference internal" href="#common-use-cases">Übliche Anwendungsfälle</a></li>
</ul>
</li>
<li><a class="reference internal" href="#default-values">Standardwerte</a><ul>
<li><a class="reference internal" href="#additional-variables">Zusätzliche Variablen</a></li>
<li><a class="reference internal" href="#id1">Übliche Anwendungsfälle</a></li>
</ul>
</li>
<li><a class="reference internal" href="#editable">Editierbar</a></li>
<li><a class="reference internal" href="#remember-last-values">Letzte Werte erinnern</a></li>
</ul>
</li>
</ul>
</ul>
</li>
            
          
          
            
              
  <li>
    <a href="allow-hiding-legend-nodes.html" title="Previous Chapter: Allow hiding legend nodes"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Allow hiding ...</span>
    </a>
  </li>
  <li>
    <a href="custom-svg.html" title="Next Chapter: Custom SVG symbols"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Custom SVG symbols &raquo;</span>
    </a>
  </li>
            
          
          
          
          
        </ul>

        
          
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        
      </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul class="globaltoc"
    role="menu"
    aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../install/index.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Prepare for Work</a></li>
<li class="toctree-l1"><a class="reference internal" href="../synchronise/index.html">Synchronisation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fieldwork/index.html">Fieldwork</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/index.html">Erste Schritte</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data-formats/index.html">Unterstützte Datenformate</a></li>
<li class="toctree-l1"><a class="reference internal" href="../case-studies/index.html">Case Studies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../support/index.html">Support and Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../old-doc/index.html">Legacy Documentation</a></li>
</ul>

</ul>
        </div>
      </div>
    <div class="col-md-9 content">
      
  <div class="section" id="attribute-form-configuration">
<h1>Attribute Form Configuration<a class="headerlink" href="#attribute-form-configuration" title="Link zu dieser Überschrift">¶</a></h1>
<p>QField erzeugt Formulare ähnlich wie, aber nicht komplett gleich wie QGIS</p>
<div class="section" id="suppress-attribute-form">
<h2>Suppress Attribute Form<a class="headerlink" href="#suppress-attribute-form" title="Link zu dieser Überschrift">¶</a></h2>
<p>The setting „suppress attribute form“ is directly applied to the QField form.</p>
</div>
<div class="section" id="field-widget">
<span id="edit-field-widgets"></span><h2>Feldwidget<a class="headerlink" href="#field-widget" title="Link zu dieser Überschrift">¶</a></h2>
<p>Die Feldwidgets von QGIS werden nach besten Möglichkeiten unterstützt</p>
<table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="20%" />
<col width="58%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Widget type</th>
<th class="head">Unterstützung</th>
<th class="head">Notiz</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Text Edit</td>
<td><span class="yay">✔</span></td>
<td><ul class="first last simple">
<li>HTML wird nicht unterstützt</li>
<li>Numerische Eingabe wird automatisch eingeschaltet, wenn der Feldtyp dies erfordert</li>
</ul>
</td>
</tr>
<tr class="row-odd"><td>Kontrollkästchen</td>
<td><span class="yay">✔</span></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>Werteabbildung</td>
<td><span class="yay">✔</span></td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>Versteckt</td>
<td><span class="yay">✔</span></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>Attachment</td>
<td><span class="yay">✔</span></td>
<td>This field is combined with camera integration.
It is also able to open other files like pdf
and doc (if the user has an appropriate viewer)
<a class="reference internal" href="#attachment"><span class="std std-ref">Attachment (photo settings)</span></a></td>
</tr>
<tr class="row-odd"><td>Datum Zeit</td>
<td><span class="yay">✔</span></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>Beziehungen</td>
<td><span class="yay">✔</span></td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>Relation Widget</td>
<td><span class="yay">✔</span></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>Value Relation</td>
<td><span class="yay">✔</span></td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>Andere</td>
<td><span class="nay">✘</span></td>
<td><a class="reference internal" href="../support/index.html#make-it-grow"><span class="std std-ref">Finanzierung</span></a></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="relation-widget">
<h2>Relation Widget<a class="headerlink" href="#relation-widget" title="Link zu dieser Überschrift">¶</a></h2>
<p>For more information refer to the relations chapter of the official <a class="reference external" href="https://docs.qgis.org/3.4/en/docs/user_manual/working_with_vector/attribute_table.html#creating-one-or-many-to-many-relations">QGIS Documentation</a>.</p>
<div class="clearer text-center docutils container">
<div class="figure">
<a class="reference internal image-reference" href="../_images/relation_editor_widget_list.png"><img alt="../_images/relation_editor_widget_list.png" src="../_images/relation_editor_widget_list.png" style="width: 500px;" /></a>
</div>
</div>
<p>The relation widget shows all the referencing child features in a list. It is possible to add, delete and open them.</p>
<p>The visual identification of the list entries are done via the „Display Expression“ of the child layer.</p>
<p><strong>Key handling</strong></p>
<p>Since the parents primary keys are used as foreign keys on the referencing child features, these primary keys must be save to use even after the synchronization back to the original data. Therefore we recommend to use stable values such as UUIDs for primary keys.</p>
<p>It is possible to already add children from a parent that is about to be added. This possibility will be blocked if there is no valid primary key on the parent or the constraints are violated. In case the adding of the parent feature is canceled after some children have been added already, the children are deleted as well.</p>
<p><strong>Many-To-Many relations</strong></p>
<p>On many-to-many relationships, according to the cardinality setting in the QGIS Vector Layer Properties, on adding, deleting or opening an entry in the list effects directly the child layer (on direct cardinality) or the linking table (on many-to-one cardinality).</p>
<p>The second case is usually used when there are additional relation information (e.g. percentage) in the linking table.</p>
<div class="clearer text-center docutils container">
<div class="figure">
<a class="reference internal image-reference" href="../_images/relation_widget_cardinality.png"><img alt="../_images/relation_widget_cardinality.png" src="../_images/relation_widget_cardinality.png" style="width: 500px;" /></a>
</div>
</div>
<p>In case of the many-to-one cardinality on many-to-many relations the Display Expression needs to be set on the linking table.</p>
<div class="section" id="attachment-photo-settings">
<span id="attachment"></span><h3>Attachment (photo settings)<a class="headerlink" href="#attachment-photo-settings" title="Link zu dieser Überschrift">¶</a></h3>
<p>The widget type „Attachment“ is used with fields that store the path to files.</p>
<p>It can be used to:</p>
<ul class="simple">
<li>show and take photos</li>
<li>show links to external files like pdfs or documents</li>
</ul>
<div class="clearer text-center docutils container">
<div class="figure">
<a class="reference internal image-reference" href="../_images/attachement-setting.png"><img alt="Attachement field settings" src="../_images/attachement-setting.png" style="width: 600px;" /></a>
</div>
</div>
<p>The path should be set to relative. The pictures, pdf and docs are stored then in a sub-directory of the project, where the link stored in the textfield is pointing to.</p>
<p>In QField the picture is displayed. By clicking the camera symbol the camera is started to update the picture with a new photo.</p>
<div class="clearer text-center docutils container">
<div class="figure">
<a class="reference internal image-reference" href="../_images/qfield_picture.png"><img alt="Picture in QField" src="../_images/qfield_picture.png" style="width: 600px;" /></a>
</div>
</div>
<p>On synchronization the sub-directory with the pictures, pdf and docs has to be copied as well.</p>
<p>The option „hyperlink“ on the attachment widget will disable the camera functionality and enable a hyperlink to open a document (pdf, doc, …).</p>
<div class="clearer text-center docutils container">
<div class="figure">
<a class="reference internal image-reference" href="../_images/hyperlink_option.png"><img alt="hyperlink_option" src="../_images/hyperlink_option.png" style="width: 600px;" /></a>
</div>
</div>
</div>
</div>
<div class="section" id="value-relation">
<h2>Value Relation<a class="headerlink" href="#value-relation" title="Link zu dieser Überschrift">¶</a></h2>
<p>The widget „Value Relation“ offers values from a related table in a combobox. You can select layer, key column and value column. Several options are available to change the standard behaviors: allow null value, order by value and allow multiple selections. The widget will display a drop-down or multiple-select list of the referenced features.</p>
<div class="clearer text-center docutils container">
<div class="figure">
<a class="reference internal image-reference" href="../_images/value_relation_widget.gif"><img alt="value_relation_widget" src="../_images/value_relation_widget.gif" style="width: 600px;" /></a>
</div>
</div>
</div>
<div class="section" id="drag-and-drop-designer-forms">
<h2>Drag and Drop Designer Formulare<a class="headerlink" href="#drag-and-drop-designer-forms" title="Link zu dieser Überschrift">¶</a></h2>
<p>Gruppen und Reiter von Drag and Drop Designer Formularen werden unterstützt.</p>
</div>
<div class="section" id="conditional-visibility">
<h2>Bedingte Sichtbarkeit<a class="headerlink" href="#conditional-visibility" title="Link zu dieser Überschrift">¶</a></h2>
<p>Gruppen können dynamisch versteckt und angezeigt werden. Dies ist oft nützlich wenn einige Attribute nur unter bestimmten Bedingungen benötigt werden. Ein Beispiel ist die Kartierung von Bäumen. Einige können eine Krankheit haben, die genauer definiert werden kann. Damit das Formular übersichtlich bleibt, kann eine neue Gruppe mit den Feldern, die die Krankheit genauer definieren erstellt werden. Auf dieser Gruppe kann nun ein Sichtbarkeitsausdruck konfiguriert werden, der auf einem separaten Feld „Krankeit“ mit einem Kreuzkästchen basiert. Nur wenn dieses angekreuzt ist, stehen die zusätzlichen Felder zur Verfügung.</p>
<div class="clearer text-center docutils container">
<div class="figure" id="id2">
<a class="reference internal image-reference" href="../_images/conditional_visibility_configuration.png"><img alt="Conditional visibility configuration" src="../_images/conditional_visibility_configuration.png" style="width: 600px;" /></a>
<p class="caption"><span class="caption-text">Konfiguration einer Widget-Gruppe, die nur sichtbar ist, wenn das Auswahl-Kästchen „measure_taken“ angekreut ist.</span></p>
</div>
</div>
<p>Let’s see what we got on the field:</p>
<div class="clearer text-left docutils container">

    <video width="700"  controls >
    <source src="../../../../_images/conditional_visibility.webm" type="video/webm">
    Video
    </video>
    </div>
</div>
<div class="section" id="constraints">
<h2>Bedingungen<a class="headerlink" href="#constraints" title="Link zu dieser Überschrift">¶</a></h2>
<p>Attributfelder können Bedingungen haben. Bedingungen sind Ausdrücke, die entweder zu <code class="code docutils literal notranslate"><span class="pre">True</span></code> (oder <code class="code docutils literal notranslate"><span class="pre">1</span></code>) aufgelöst werden müssen, damit das Formular gespeichert werden kann. Bedingungen werden auf Feldebene konfiguriert und eine Beschreibung kann hinzugefügt werden, die dem Nutzer angezeigt wird, wenn eine Bedingung nicht erfüllt ist.</p>
<div class="clearer text-center docutils container">
<div class="figure" id="id3">
<a class="reference internal image-reference" href="../_images/constraint_configuration.png"><img alt="Constraint configuration" src="../_images/constraint_configuration.png" style="width: 600px;" /></a>
<p class="caption"><span class="caption-text">Konfiguration einer Bedingung innerhalb eines Bereichs.</span></p>
</div>
</div>
<div class="section" id="common-use-cases">
<h3>Übliche Anwendungsfälle<a class="headerlink" href="#common-use-cases" title="Link zu dieser Überschrift">¶</a></h3>
<p>Es kann keine Höhe eingegeben werden, die höher ist als der höchste Berg in diesem Land.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="ss">&quot;elevation&quot;</span> <span class="o">&lt;</span> <span class="mi">5000</span>
</pre></div>
</div>
<p>Es ist nötig, eine Bezeichnung einzugeben.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="ss">&quot;identifier&quot;</span> <span class="k">IS</span> <span class="k">NOT</span> <span class="k">NULL</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="default-values">
<h2>Standardwerte<a class="headerlink" href="#default-values" title="Link zu dieser Überschrift">¶</a></h2>
<p>Felder können Standardwerte haben. Standardwerte werden automatisch in das Formular eingefügt, wenn ein neues Objekt erzeugt wird. Sie sind für den Nutzer sichtbar und können bearbeitet werden, sofern das Feld editierbar ist. Sie können auch auf der Geometrie oder Ausdrucksvariablen basieren.</p>
<div class="clearer text-center docutils container">
<div class="figure" id="id4">
<a class="reference internal image-reference" href="../_images/default_value_configuration.png"><img alt="Default value configuration" src="../_images/default_value_configuration.png" style="width: 600px;" /></a>
<p class="caption"><span class="caption-text">Konfiguration eines formattierten Datums als Standardwert.</span></p>
</div>
</div>
<div class="section" id="additional-variables">
<h3>Zusätzliche Variablen<a class="headerlink" href="#additional-variables" title="Link zu dieser Überschrift">¶</a></h3>
<p>You can get access to positioning information with through additional
expression variables. These will only be available when the positioning
is enabled, either through the internal device receiver or through an
external device connected via NMEA connection.</p>
<blockquote>
<div><ul class="simple">
<li><cite>&#64;position_coordinate</cite>
- A point with the coordinate in WGS84. Lon, Lat, Altitude as delivered by the sensor. It is also available when the crosshair is not snapped to the sensor.
- <cite>x(&#64;position_coordinate)</cite>
- IE</li>
<li><cite>&#64;position_timestamp</cite>
- The timestamp of the position in UTC.
- IE</li>
<li><cite>&#64;position_direction</cite>
- The direction of movement in degrees from true north.
- IE</li>
<li><cite>&#64;position_ground_speed</cite>
- Groundspeed (in m/s).
- IE</li>
<li><cite>&#64;position_magnetic_variation</cite>
- The angle between the horizontal component of the magnetic field and true north, in degrees. Also known as magnetic declination. A positive value indicates a clockwise direction from true north and a negative value indicates a counter-clockwise direction.
-
- IE</li>
<li><cite>&#64;position_horizontal_accuracy</cite>
- The horizontal accuracy of the coordinate (in meters).
- IE</li>
<li><cite>&#64;position_vertical_accuracy</cite>
- The vertical accuracy of the coordinate (in meters).
- IE</li>
<li><cite>&#64;position_vertical_speed</cite>
- The vertical speed (in m/s)
- IE</li>
<li><cite>&#64;position_source_name</cite>
- The vertical speed (in m/s)
- IE</li>
<li><cite>&#64;position_pdop</cite>
- Position dilution of precision
- E</li>
<li><cite>&#64;position_hdop</cite>
- Horizontal dilution of precision
- E</li>
<li><cite>&#64;position_vdop</cite>
- Vertical dilution of precision
-
- E</li>
<li><cite>&#64;position_number_of_used_satellites</cite>
- Number of satellites
- E</li>
<li><cite>&#64;position_used_satellites</cite>
- A list of satellites in use (pri)
- <cite>array_count(&#64;position_used_satellites)</cite>
- E</li>
<li><cite>&#64;position_quality_description</cite>
- A human readable and translated string for the quality. E.g. „Fixed RTK“
- E</li>
<li><cite>&#64;position_fix_status_description</cite>
- The GPS Fix Status „NoData“, „NoFix“, „Fix2D“ or „Fix3D“
- E</li>
<li><cite>&#64;position_fix_mode</cite>
- Fix mode (where ‚M‘ = Manual, forced to operate in 2D or 3D or ‚A‘ = Automatic, 3D/2D)
- E</li>
</ul>
</div></blockquote>
<p>I: Internal position source
E: External (NMEA) position source</p>
</div>
<div class="section" id="id1">
<h3>Übliche Anwendungsfälle<a class="headerlink" href="#id1" title="Link zu dieser Überschrift">¶</a></h3>
<p>Positionsinformationen als Variable einbinden:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">@</span><span class="n">position_horizontal_accuracy</span>
</pre></div>
</div>
<p>Aktuelles Datum und Zeit einfüllen.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="n">now</span><span class="p">()</span>
</pre></div>
</div>
<p>Die Länge der digitalisierten Linie einfügen:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span>length($geometry)
</pre></div>
</div>
<p>Globale Variablen auf dem Gerät konfigurieren und verwenden.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">@</span><span class="n">operator_name</span>
</pre></div>
</div>
<p>Falls ein neues Objekt ein Code entsprechend der Region, in der es digitalisiert wurde erhalten soll, kann dies mit einem aggregierten Ausdruck gemacht werden:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span>aggregate( layer:=&#39;regions&#39;, aggregate:=&#39;max&#39;, expression:=&quot;code&quot;, filter:=intersects( $geometry, geometry( @parent ) ) )
</pre></div>
</div>
</div>
</div>
<div class="section" id="editable">
<h2>Editierbar<a class="headerlink" href="#editable" title="Link zu dieser Überschrift">¶</a></h2>
<p>Das Flag für Editierbarkeit eines Felds wird berücksichtigt</p>
</div>
<div class="section" id="remember-last-values">
<h2>Letzte Werte erinnern<a class="headerlink" href="#remember-last-values" title="Link zu dieser Überschrift">¶</a></h2>
<p>QField bietet eine viel finkörnigere Kontrolle über das Erinnern von Attributen als QGIS und ignoriert die entsprechende QGIS Einstellung.</p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        

 


<div id="sourcelink">


  <a href="https://github.com/opengisch/QField-docs/blob/master/en/prepare/attributes-form.rst" class="fa fa-github"> Edit on GitHub</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2019, The QField Project/OPENGIS.ch.<br/>
      Mit <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5 erstellt.<br/>
    </p>
  </div>
</footer>
  </body>
</html>